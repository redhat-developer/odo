"use strict";(self.webpackChunkdevfile_builder=self.webpackChunkdevfile_builder||[]).push([[330],{3330:(Lt,ct,W)=>{W.d(ct,{a:()=>h,b:()=>Dt,c:()=>L,d:()=>Pt,e:()=>jt,f:()=>Zt,g:()=>Gt,h:()=>Kt,i:()=>X,p:()=>Xt,s:()=>Ut,u:()=>b});var d=W(855),C=W(5703),I=W(4169),tt=W(5299),z=W(9111);const f={extension:(a,t,r)=>{d.l.trace("Making markers for ",r),a.append("defs").append("marker").attr("id",t+"-extensionStart").attr("class","marker extension "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),a.append("defs").append("marker").attr("id",t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:(a,t)=>{a.append("defs").append("marker").attr("id",t+"-compositionStart").attr("class","marker composition "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id",t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:(a,t)=>{a.append("defs").append("marker").attr("id",t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id",t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:(a,t)=>{a.append("defs").append("marker").attr("id",t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id",t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:(a,t)=>{a.append("defs").append("marker").attr("id",t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:(a,t)=>{a.append("marker").attr("id",t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 12 20").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),a.append("marker").attr("id",t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:(a,t)=>{a.append("marker").attr("id",t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),a.append("marker").attr("id",t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:(a,t)=>{a.append("marker").attr("id",t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),a.append("marker").attr("id",t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:(a,t)=>{a.append("defs").append("marker").attr("id",t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},h=(a,t,r,n)=>{t.forEach(e=>{f[e](a,r,n)})},L=(a,t,r,n)=>{let e=a||"";if("object"==typeof e&&(e=e[0]),(0,d.j)((0,d.g)().flowchart.htmlLabels))return e=e.replace(/\\n|\n/g,"<br />"),d.l.info("vertexText"+e),function S(a){const t=(0,C.Ys)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div");return r.html('<span class="'+(a.isNode?"nodeLabel":"edgeLabel")+'" '+(a.labelStyle?'style="'+a.labelStyle+'"':"")+">"+a.label+"</span>"),function E(a,t){t&&a.attr("style",t)}(r,a.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}({isNode:n,label:(0,I.d)(e).replace(/fa[blrs]?:fa-[\w-]+/g,l=>`<i class='${l.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")});{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let i=[];i="string"==typeof e?e.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(e)?e:[];for(const l of i){const c=document.createElementNS("http://www.w3.org/2000/svg","tspan");c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),c.setAttribute("dy","1em"),c.setAttribute("x","0"),c.setAttribute("class",r?"title-row":"row"),c.textContent=l.trim(),s.appendChild(c)}return s}},v=(a,t,r,n)=>{let e;e=r||"node default";const s=a.insert("g").attr("class",e).attr("id",t.domId||t.id),i=s.insert("g").attr("class","label").attr("style",t.labelStyle);let l;l=void 0===t.labelText?"":"string"==typeof t.labelText?t.labelText:t.labelText[0];const c=i.node().appendChild(L((0,d.b)((0,I.d)(l),(0,d.g)()),t.labelStyle,!1,n));let p=c.getBBox();if((0,d.j)((0,d.g)().flowchart.htmlLabels)){const u=c.children[0],m=(0,C.Ys)(c);p=u.getBoundingClientRect(),m.attr("width",p.width),m.attr("height",p.height)}const o=t.padding/2;return i.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),{shapeSvg:s,bbox:p,halfPadding:o,label:i}},b=(a,t)=>{const r=t.node().getBBox();a.width=r.width,a.height=r.height};function M(a,t,r,n){return a.insert("polygon",":first-child").attr("points",n.map(function(e){return e.x+","+e.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}function N(a,t,r,n){var e=a.x,s=a.y,i=e-n.x,l=s-n.y,c=Math.sqrt(t*t*l*l+r*r*i*i),p=Math.abs(t*r*i/c);n.x<e&&(p=-p);var o=Math.abs(t*r*l/c);return n.y<s&&(o=-o),{x:e+p,y:s+o}}function F(a,t,r,n){var e,s,i,l,c,p,o,u,m,y,x,k,B;if(y=(e=t.y-a.y)*n.x+(i=a.x-t.x)*n.y+(c=t.x*a.y-a.x*t.y),!(0!==(m=e*r.x+i*r.y+c)&&0!==y&&D(m,y)||(s=n.y-r.y,l=r.x-n.x,p=n.x*r.y-r.x*n.y,o=s*a.x+l*a.y+p,u=s*t.x+l*t.y+p,0!==o&&0!==u&&D(o,u)||(x=e*l-s*i,0===x))))return k=Math.abs(x/2),{x:(B=i*p-l*c)<0?(B-k)/x:(B+k)/x,y:(B=s*c-e*p)<0?(B-k)/x:(B+k)/x}}function D(a,t){return a*t>0}const X=(a,t)=>{var c,p,r=a.x,n=a.y,e=t.x-r,s=t.y-n,i=a.width/2,l=a.height/2;return Math.abs(s)*i>Math.abs(e)*l?(s<0&&(l=-l),c=0===s?0:l*e/s,p=l):(e<0&&(i=-i),c=i,p=0===e?0:i*s/e),{x:r+c,y:n+p}},w={node:function G(a,t){return a.intersect(t)},circle:function Y(a,t,r){return N(a,t,t,r)},ellipse:N,polygon:function V(a,t,r){var n=a.x,e=a.y,s=[],i=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;"function"==typeof t.forEach?t.forEach(function(x){i=Math.min(i,x.x),l=Math.min(l,x.y)}):(i=Math.min(i,t.x),l=Math.min(l,t.y));for(var c=n-a.width/2-i,p=e-a.height/2-l,o=0;o<t.length;o++){var u=t[o],m=t[o<t.length-1?o+1:0],y=F(a,r,{x:c+u.x,y:p+u.y},{x:c+m.x,y:p+m.y});y&&s.push(y)}return s.length?(s.length>1&&s.sort(function(x,k){var B=x.x-r.x,T=x.y-r.y,P=Math.sqrt(B*B+T*T),J=k.x-r.x,$=k.y-r.y,at=Math.sqrt(J*J+$*$);return P<at?-1:P===at?0:1}),s[0]):a},rect:X},U=(a,t)=>{const{shapeSvg:r,bbox:n}=v(a,t,void 0,!0),i=n.width+t.padding+(n.height+t.padding),l=[{x:i/2,y:0},{x:i,y:-i/2},{x:i/2,y:-i},{x:0,y:-i/2}];d.l.info("Question main (Circle)");const c=M(r,i,i,l);return c.attr("style",t.style),b(t,c),t.intersect=function(p){return d.l.warn("Intersect called"),w.polygon(t,l,p)},r};function bt(a,t,r,n){const e=[],s=l=>{e.push(l,0)},i=l=>{e.push(0,l)};t.includes("t")?(d.l.debug("add top border"),s(r)):i(r),t.includes("r")?(d.l.debug("add right border"),s(n)):i(n),t.includes("b")?(d.l.debug("add bottom border"),s(r)):i(r),t.includes("l")?(d.l.debug("add left border"),s(n)):i(n),a.attr("stroke-dasharray",e.join(" "))}const wt=(a,t,r)=>{const n=a.insert("g").attr("class","node default").attr("id",t.domId||t.id);let e=70,s=10;"LR"===r&&(e=10,s=70);const i=n.append("rect").attr("x",-1*e/2).attr("y",-1*s/2).attr("width",e).attr("height",s).attr("class","fork-join");return b(t,i),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(l){return w.rect(t,l)},n},mt={rhombus:U,question:U,rect:(a,t)=>{const{shapeSvg:r,bbox:n,halfPadding:e}=v(a,t,"node "+t.classes,!0);d.l.trace("Classes = ",t.classes);const s=r.insert("rect",":first-child"),i=n.width+t.padding,l=n.height+t.padding;if(s.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-e).attr("y",-n.height/2-e).attr("width",i).attr("height",l),t.props){const c=new Set(Object.keys(t.props));t.props.borders&&(bt(s,t.props.borders,i,l),c.delete("borders")),c.forEach(p=>{d.l.warn(`Unknown node property ${p}`)})}return b(t,s),t.intersect=function(c){return w.rect(t,c)},r},labelRect:(a,t)=>{const{shapeSvg:r}=v(a,t,"label",!0);d.l.trace("Classes = ",t.classes);const n=r.insert("rect",":first-child");if(n.attr("width",0).attr("height",0),r.attr("class","label edgeLabel"),t.props){const i=new Set(Object.keys(t.props));t.props.borders&&(bt(n,t.props.borders,0,0),i.delete("borders")),i.forEach(l=>{d.l.warn(`Unknown node property ${l}`)})}return b(t,n),t.intersect=function(i){return w.rect(t,i)},r},rectWithTitle:(a,t)=>{let r;r=t.classes?"node "+t.classes:"node default";const n=a.insert("g").attr("class",r).attr("id",t.domId||t.id),e=n.insert("rect",":first-child"),s=n.insert("line"),i=n.insert("g").attr("class","label"),l=t.labelText.flat?t.labelText.flat():t.labelText;let c="";c="object"==typeof l?l[0]:l,d.l.info("Label text abc79",c,l,"object"==typeof l);const p=i.node().appendChild(L(c,t.labelStyle,!0,!0));let o={width:0,height:0};if((0,d.j)((0,d.g)().flowchart.htmlLabels)){const k=p.children[0],B=(0,C.Ys)(p);o=k.getBoundingClientRect(),B.attr("width",o.width),B.attr("height",o.height)}d.l.info("Text 2",l);const u=l.slice(1,l.length);let m=p.getBBox();const y=i.node().appendChild(L(u.join?u.join("<br/>"):u,t.labelStyle,!0,!0));if((0,d.j)((0,d.g)().flowchart.htmlLabels)){const k=y.children[0],B=(0,C.Ys)(y);o=k.getBoundingClientRect(),B.attr("width",o.width),B.attr("height",o.height)}const x=t.padding/2;return(0,C.Ys)(y).attr("transform","translate( "+(o.width>m.width?0:(m.width-o.width)/2)+", "+(m.height+x+5)+")"),(0,C.Ys)(p).attr("transform","translate( "+(o.width<m.width?0:-(m.width-o.width)/2)+", 0)"),o=i.node().getBBox(),i.attr("transform","translate("+-o.width/2+", "+(-o.height/2-x+3)+")"),e.attr("class","outer title-state").attr("x",-o.width/2-x).attr("y",-o.height/2-x).attr("width",o.width+t.padding).attr("height",o.height+t.padding),s.attr("class","divider").attr("x1",-o.width/2-x).attr("x2",o.width/2+x).attr("y1",-o.height/2-x+m.height+x).attr("y2",-o.height/2-x+m.height+x),b(t,e),t.intersect=function(k){return w.rect(t,k)},n},choice:(a,t)=>{const r=a.insert("g").attr("class","node default").attr("id",t.domId||t.id);return r.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map(function(i){return i.x+","+i.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(i){return w.circle(t,14,i)},r},circle:(a,t)=>{const{shapeSvg:r,bbox:n,halfPadding:e}=v(a,t,void 0,!0),s=r.insert("circle",":first-child");return s.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+e).attr("width",n.width+t.padding).attr("height",n.height+t.padding),d.l.info("Circle main"),b(t,s),t.intersect=function(i){return d.l.info("Circle intersect",t,n.width/2+e,i),w.circle(t,n.width/2+e,i)},r},doublecircle:(a,t)=>{const{shapeSvg:r,bbox:n,halfPadding:e}=v(a,t,void 0,!0),i=r.insert("g",":first-child"),l=i.insert("circle"),c=i.insert("circle");return l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+e+5).attr("width",n.width+t.padding+10).attr("height",n.height+t.padding+10),c.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+e).attr("width",n.width+t.padding).attr("height",n.height+t.padding),d.l.info("DoubleCircle main"),b(t,l),t.intersect=function(p){return d.l.info("DoubleCircle intersect",t,n.width/2+e+5,p),w.circle(t,n.width/2+e+5,p)},r},stadium:(a,t)=>{const{shapeSvg:r,bbox:n}=v(a,t,void 0,!0),e=n.height+t.padding,s=n.width+e/4+t.padding,i=r.insert("rect",":first-child").attr("style",t.style).attr("rx",e/2).attr("ry",e/2).attr("x",-s/2).attr("y",-e/2).attr("width",s).attr("height",e);return b(t,i),t.intersect=function(l){return w.rect(t,l)},r},hexagon:(a,t)=>{const{shapeSvg:r,bbox:n}=v(a,t,void 0,!0),s=n.height+t.padding,i=s/4,l=n.width+2*i+t.padding,c=[{x:i,y:0},{x:l-i,y:0},{x:l,y:-s/2},{x:l-i,y:-s},{x:i,y:-s},{x:0,y:-s/2}],p=M(r,l,s,c);return p.attr("style",t.style),b(t,p),t.intersect=function(o){return w.polygon(t,c,o)},r},rect_left_inv_arrow:(a,t)=>{const{shapeSvg:r,bbox:n}=v(a,t,void 0,!0),e=n.width+t.padding,s=n.height+t.padding,i=[{x:-s/2,y:0},{x:e,y:0},{x:e,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}];return M(r,e,s,i).attr("style",t.style),t.width=e+s,t.height=s,t.intersect=function(c){return w.polygon(t,i,c)},r},lean_right:(a,t)=>{const{shapeSvg:r,bbox:n}=v(a,t,void 0,!0),e=n.width+t.padding,s=n.height+t.padding,i=[{x:-2*s/6,y:0},{x:e-s/6,y:0},{x:e+2*s/6,y:-s},{x:s/6,y:-s}],l=M(r,e,s,i);return l.attr("style",t.style),b(t,l),t.intersect=function(c){return w.polygon(t,i,c)},r},lean_left:(a,t)=>{const{shapeSvg:r,bbox:n}=v(a,t,void 0,!0),e=n.width+t.padding,s=n.height+t.padding,i=[{x:2*s/6,y:0},{x:e+s/6,y:0},{x:e-2*s/6,y:-s},{x:-s/6,y:-s}],l=M(r,e,s,i);return l.attr("style",t.style),b(t,l),t.intersect=function(c){return w.polygon(t,i,c)},r},trapezoid:(a,t)=>{const{shapeSvg:r,bbox:n}=v(a,t,void 0,!0),e=n.width+t.padding,s=n.height+t.padding,i=[{x:-2*s/6,y:0},{x:e+2*s/6,y:0},{x:e-s/6,y:-s},{x:s/6,y:-s}],l=M(r,e,s,i);return l.attr("style",t.style),b(t,l),t.intersect=function(c){return w.polygon(t,i,c)},r},inv_trapezoid:(a,t)=>{const{shapeSvg:r,bbox:n}=v(a,t,void 0,!0),e=n.width+t.padding,s=n.height+t.padding,i=[{x:s/6,y:0},{x:e-s/6,y:0},{x:e+2*s/6,y:-s},{x:-2*s/6,y:-s}],l=M(r,e,s,i);return l.attr("style",t.style),b(t,l),t.intersect=function(c){return w.polygon(t,i,c)},r},rect_right_inv_arrow:(a,t)=>{const{shapeSvg:r,bbox:n}=v(a,t,void 0,!0),e=n.width+t.padding,s=n.height+t.padding,i=[{x:0,y:0},{x:e+s/2,y:0},{x:e,y:-s/2},{x:e+s/2,y:-s},{x:0,y:-s}],l=M(r,e,s,i);return l.attr("style",t.style),b(t,l),t.intersect=function(c){return w.polygon(t,i,c)},r},cylinder:(a,t)=>{const{shapeSvg:r,bbox:n}=v(a,t,void 0,!0),e=n.width+t.padding,s=e/2,i=s/(2.5+e/50),l=n.height+i+t.padding,c="M 0,"+i+" a "+s+","+i+" 0,0,0 "+e+" 0 a "+s+","+i+" 0,0,0 "+-e+" 0 l 0,"+l+" a "+s+","+i+" 0,0,0 "+e+" 0 l 0,"+-l,p=r.attr("label-offset-y",i).insert("path",":first-child").attr("style",t.style).attr("d",c).attr("transform","translate("+-e/2+","+-(l/2+i)+")");return b(t,p),t.intersect=function(o){const u=w.rect(t,o),m=u.x-t.x;if(0!=s&&(Math.abs(m)<t.width/2||Math.abs(m)==t.width/2&&Math.abs(u.y-t.y)>t.height/2-i)){let y=i*i*(1-m*m/(s*s));0!=y&&(y=Math.sqrt(y)),y=i-y,o.y-t.y>0&&(y=-y),u.y+=y}return u},r},start:(a,t)=>{const r=a.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),b(t,n),t.intersect=function(e){return w.circle(t,7,e)},r},end:(a,t)=>{const r=a.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),e=r.insert("circle",":first-child");return e.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),b(t,e),t.intersect=function(s){return w.circle(t,7,s)},r},note:(a,t)=>{const{shapeSvg:r,bbox:n,halfPadding:e}=v(a,t,"node "+t.classes,!0);d.l.info("Classes = ",t.classes);const s=r.insert("rect",":first-child");return s.attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-e).attr("y",-n.height/2-e).attr("width",n.width+t.padding).attr("height",n.height+t.padding),b(t,s),t.intersect=function(i){return w.rect(t,i)},r},subroutine:(a,t)=>{const{shapeSvg:r,bbox:n}=v(a,t,void 0,!0),e=n.width+t.padding,s=n.height+t.padding,i=[{x:0,y:0},{x:e,y:0},{x:e,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:e+8,y:0},{x:e+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],l=M(r,e,s,i);return l.attr("style",t.style),b(t,l),t.intersect=function(c){return w.polygon(t,i,c)},r},fork:wt,join:wt,class_box:(a,t)=>{const r=t.padding/2;let s;s=t.classes?"node "+t.classes:"node default";const i=a.insert("g").attr("class",s).attr("id",t.domId||t.id),l=i.insert("rect",":first-child"),c=i.insert("line"),p=i.insert("line");let o=0,u=4;const m=i.insert("g").attr("class","label");let y=0;const x=t.classData.annotations&&t.classData.annotations[0],k=t.classData.annotations[0]?"\xab"+t.classData.annotations[0]+"\xbb":"",B=m.node().appendChild(L(k,t.labelStyle,!0,!0));let T=B.getBBox();if((0,d.j)((0,d.g)().flowchart.htmlLabels)){const O=B.children[0],H=(0,C.Ys)(B);T=O.getBoundingClientRect(),H.attr("width",T.width),H.attr("height",T.height)}t.classData.annotations[0]&&(u+=T.height+4,o+=T.width);let P=t.classData.label;void 0!==t.classData.type&&""!==t.classData.type&&((0,d.g)().flowchart.htmlLabels?P+="&lt;"+t.classData.type+"&gt;":P+="<"+t.classData.type+">");const J=m.node().appendChild(L(P,t.labelStyle,!0,!0));(0,C.Ys)(J).attr("class","classTitle");let $=J.getBBox();if((0,d.j)((0,d.g)().flowchart.htmlLabels)){const O=J.children[0],H=(0,C.Ys)(J);$=O.getBoundingClientRect(),H.attr("width",$.width),H.attr("height",$.height)}u+=$.height+4,$.width>o&&(o=$.width);const at=[];t.classData.members.forEach(O=>{const H=(0,tt.p)(O);let Q=H.displayText;(0,d.g)().flowchart.htmlLabels&&(Q=Q.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const Z=m.node().appendChild(L(Q,H.cssStyle?H.cssStyle:t.labelStyle,!0,!0));let A=Z.getBBox();if((0,d.j)((0,d.g)().flowchart.htmlLabels)){const pt=Z.children[0],et=(0,C.Ys)(Z);A=pt.getBoundingClientRect(),et.attr("width",A.width),et.attr("height",A.height)}A.width>o&&(o=A.width),u+=A.height+4,at.push(Z)}),u+=8;const vt=[];if(t.classData.methods.forEach(O=>{const H=(0,tt.p)(O);let Q=H.displayText;(0,d.g)().flowchart.htmlLabels&&(Q=Q.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const Z=m.node().appendChild(L(Q,H.cssStyle?H.cssStyle:t.labelStyle,!0,!0));let A=Z.getBBox();if((0,d.j)((0,d.g)().flowchart.htmlLabels)){const pt=Z.children[0],et=(0,C.Ys)(Z);A=pt.getBoundingClientRect(),et.attr("width",A.width),et.attr("height",A.height)}A.width>o&&(o=A.width),u+=A.height+4,vt.push(Z)}),u+=8,x){let O=(o-T.width)/2;(0,C.Ys)(B).attr("transform","translate( "+(-1*o/2+O)+", "+-1*u/2+")"),y=T.height+4}let Ft=(o-$.width)/2;return(0,C.Ys)(J).attr("transform","translate( "+(-1*o/2+Ft)+", "+(-1*u/2+y)+")"),y+=$.height+4,c.attr("class","divider").attr("x1",-o/2-r).attr("x2",o/2+r).attr("y1",-u/2-r+8+y).attr("y2",-u/2-r+8+y),y+=8,at.forEach(O=>{(0,C.Ys)(O).attr("transform","translate( "+-o/2+", "+(-1*u/2+y+4)+")"),y+=$.height+4}),y+=8,p.attr("class","divider").attr("x1",-o/2-r).attr("x2",o/2+r).attr("y1",-u/2-r+8+y).attr("y2",-u/2-r+8+y),y+=8,vt.forEach(O=>{(0,C.Ys)(O).attr("transform","translate( "+-o/2+", "+(-1*u/2+y)+")"),y+=$.height+4}),l.attr("class","outer title-state").attr("x",-o/2-r).attr("y",-u/2-r).attr("width",o+t.padding).attr("height",u+t.padding),b(t,l),t.intersect=function(O){return w.rect(t,O)},i}};let q={};const jt=(a,t,r)=>{let n,e;if(t.link){let s;"sandbox"===(0,d.g)().securityLevel?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),n=a.insert("svg:a").attr("xlink:href",t.link).attr("target",s),e=mt[t.shape](n,t,r)}else e=mt[t.shape](a,t,r),n=e;return t.tooltip&&e.attr("title",t.tooltip),t.class&&e.attr("class","node default "+t.class),q[t.id]=n,t.haveCallback&&q[t.id].attr("class",q[t.id].attr("class")+" clickable"),n},Ut=(a,t)=>{q[t.id]=a},Dt=()=>{q={}},Xt=a=>{const t=q[a.id];d.l.trace("Transforming node",a.diff,a,"translate("+(a.x-a.width/2-5)+", "+a.width/2+")");const n=a.diff||0;return t.attr("transform",a.clusterNode?"translate("+(a.x+n-a.width/2)+", "+(a.y-a.height/2-8)+")":"translate("+a.x+", "+a.y+")"),n};let nt={},R={};const Pt=()=>{nt={},R={}},Zt=(a,t)=>{const r=L(t.label,t.labelStyle),n=a.insert("g").attr("class","edgeLabel"),e=n.insert("g").attr("class","label");e.node().appendChild(r);let i,s=r.getBBox();if((0,d.j)((0,d.g)().flowchart.htmlLabels)){const l=r.children[0],c=(0,C.Ys)(r);s=l.getBoundingClientRect(),c.attr("width",s.width),c.attr("height",s.height)}if(e.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),nt[t.id]=n,t.width=s.width,t.height=s.height,t.startLabelLeft){const l=L(t.startLabelLeft,t.labelStyle),c=a.insert("g").attr("class","edgeTerminals"),p=c.insert("g").attr("class","inner");i=p.node().appendChild(l);const o=l.getBBox();p.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),R[t.id]||(R[t.id]={}),R[t.id].startLeft=c,lt(i,t.startLabelLeft)}if(t.startLabelRight){const l=L(t.startLabelRight,t.labelStyle),c=a.insert("g").attr("class","edgeTerminals"),p=c.insert("g").attr("class","inner");i=c.node().appendChild(l),p.node().appendChild(l);const o=l.getBBox();p.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),R[t.id]||(R[t.id]={}),R[t.id].startRight=c,lt(i,t.startLabelRight)}if(t.endLabelLeft){const l=L(t.endLabelLeft,t.labelStyle),c=a.insert("g").attr("class","edgeTerminals"),p=c.insert("g").attr("class","inner");i=p.node().appendChild(l);const o=l.getBBox();p.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),c.node().appendChild(l),R[t.id]||(R[t.id]={}),R[t.id].endLeft=c,lt(i,t.endLabelLeft)}if(t.endLabelRight){const l=L(t.endLabelRight,t.labelStyle),c=a.insert("g").attr("class","edgeTerminals"),p=c.insert("g").attr("class","inner");i=p.node().appendChild(l);const o=l.getBBox();p.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),c.node().appendChild(l),R[t.id]||(R[t.id]={}),R[t.id].endRight=c,lt(i,t.endLabelRight)}return r};function lt(a,t){(0,d.g)().flowchart.htmlLabels&&a&&(a.style.width=9*t.length+"px",a.style.height="12px")}const Kt=(a,t)=>{d.l.info("Moving label abc78 ",a.id,a.label,nt[a.id]);let r=t.updatedPath?t.updatedPath:t.originalPath;if(a.label){const n=nt[a.id];let e=a.x,s=a.y;if(r){const i=z.u.calcLabelPosition(r);d.l.info("Moving label "+a.label+" from (",e,",",s,") to (",i.x,",",i.y,") abc78"),t.updatedPath&&(e=i.x,s=i.y)}n.attr("transform","translate("+e+", "+s+")")}if(a.startLabelLeft){const n=R[a.id].startLeft;let e=a.x,s=a.y;if(r){const i=z.u.calcTerminalLabelPosition(a.arrowTypeStart?10:0,"start_left",r);e=i.x,s=i.y}n.attr("transform","translate("+e+", "+s+")")}if(a.startLabelRight){const n=R[a.id].startRight;let e=a.x,s=a.y;if(r){const i=z.u.calcTerminalLabelPosition(a.arrowTypeStart?10:0,"start_right",r);e=i.x,s=i.y}n.attr("transform","translate("+e+", "+s+")")}if(a.endLabelLeft){const n=R[a.id].endLeft;let e=a.x,s=a.y;if(r){const i=z.u.calcTerminalLabelPosition(a.arrowTypeEnd?10:0,"end_left",r);e=i.x,s=i.y}n.attr("transform","translate("+e+", "+s+")")}if(a.endLabelRight){const n=R[a.id].endRight;let e=a.x,s=a.y;if(r){const i=z.u.calcTerminalLabelPosition(a.arrowTypeEnd?10:0,"end_right",r);e=i.x,s=i.y}n.attr("transform","translate("+e+", "+s+")")}},kt=(a,t)=>{d.l.warn("abc88 cutPathAtIntersect",a,t);let r=[],n=a[0],e=!1;return a.forEach(s=>{if(d.l.info("abc88 checking point",s,t),((a,t)=>{const n=a.y,e=Math.abs(t.x-a.x),s=Math.abs(t.y-n);return e>=a.width/2||s>=a.height/2})(t,s)||e)d.l.warn("abc88 outside",s,n),n=s,e||r.push(s);else{const i=((a,t,r)=>{d.l.warn(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(t)}\n  insidePoint : ${JSON.stringify(r)}\n  node        : x:${a.x} y:${a.y} w:${a.width} h:${a.height}`);const n=a.x,e=a.y,s=Math.abs(n-r.x),i=a.width/2;let l=r.x<t.x?i-s:i+s;const c=a.height/2,p=Math.abs(t.y-r.y),o=Math.abs(t.x-r.x);if(Math.abs(e-t.y)*i>Math.abs(n-t.x)*c){let u=r.y<t.y?t.y-c-e:e-c-t.y;l=o*u/p;const m={x:r.x<t.x?r.x+l:r.x-o+l,y:r.y<t.y?r.y+p-u:r.y-p+u};return 0===l&&(m.x=t.x,m.y=t.y),0===o&&(m.x=t.x),0===p&&(m.y=t.y),d.l.warn(`abc89 topp/bott calc, Q ${p}, q ${u}, R ${o}, r ${l}`,m),m}{l=r.x<t.x?t.x-i-n:n-i-t.x;let u=p*l/o,m=r.x<t.x?r.x+o-l:r.x-o+l,y=r.y<t.y?r.y+u:r.y-u;return d.l.warn(`sides calc abc89, Q ${p}, q ${u}, R ${o}, r ${l}`,{_x:m,_y:y}),0===l&&(m=t.x,y=t.y),0===o&&(m=t.x),0===p&&(y=t.y),{x:m,y}}})(t,n,s);d.l.warn("abc88 inside",s,n,i),d.l.warn("abc88 intersection",i);let l=!1;r.forEach(c=>{l=l||c.x===i.x&&c.y===i.y}),r.some(c=>c.x===i.x&&c.y===i.y)?d.l.warn("abc88 no intersect",i,r):r.push(i),e=!0}}),d.l.warn("abc88 returning points",r),r},Gt=function(a,t,r,n,e,s){let i=r.points,l=!1;const c=s.node(t.v);var p=s.node(t.w);d.l.info("abc88 InsertEdge: ",r),p.intersect&&c.intersect&&(i=i.slice(1,r.points.length-1),i.unshift(c.intersect(i[0])),d.l.info("Last point",i[i.length-1],p,p.intersect(i[i.length-1])),i.push(p.intersect(i[i.length-1]))),r.toCluster&&(d.l.info("to cluster abc88",n[r.toCluster]),i=kt(r.points,n[r.toCluster].node),l=!0),r.fromCluster&&(d.l.info("from cluster abc88",n[r.fromCluster]),i=kt(i.reverse(),n[r.fromCluster].node).reverse(),l=!0);const o=i.filter(T=>!Number.isNaN(T.y));let u;u=("graph"===e||"flowchart"===e)&&r.curve||C.$0Z;const m=(0,C.jvg)().x(function(T){return T.x}).y(function(T){return T.y}).curve(u);let y;switch(r.thickness){case"normal":y="edge-thickness-normal";break;case"thick":case"invisible":y="edge-thickness-thick";break;default:y=""}switch(r.pattern){case"solid":y+=" edge-pattern-solid";break;case"dotted":y+=" edge-pattern-dotted";break;case"dashed":y+=" edge-pattern-dashed"}const x=a.append("path").attr("d",m(o)).attr("id",r.id).attr("class"," "+y+(r.classes?" "+r.classes:"")).attr("style",r.style);let k="";switch(((0,d.g)().flowchart.arrowMarkerAbsolute||(0,d.g)().state.arrowMarkerAbsolute)&&(k=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,k=k.replace(/\(/g,"\\("),k=k.replace(/\)/g,"\\)")),d.l.info("arrowTypeStart",r.arrowTypeStart),d.l.info("arrowTypeEnd",r.arrowTypeEnd),r.arrowTypeStart){case"arrow_cross":x.attr("marker-start","url("+k+"#"+e+"-crossStart)");break;case"arrow_point":x.attr("marker-start","url("+k+"#"+e+"-pointStart)");break;case"arrow_barb":x.attr("marker-start","url("+k+"#"+e+"-barbStart)");break;case"arrow_circle":x.attr("marker-start","url("+k+"#"+e+"-circleStart)");break;case"aggregation":x.attr("marker-start","url("+k+"#"+e+"-aggregationStart)");break;case"extension":x.attr("marker-start","url("+k+"#"+e+"-extensionStart)");break;case"composition":x.attr("marker-start","url("+k+"#"+e+"-compositionStart)");break;case"dependency":x.attr("marker-start","url("+k+"#"+e+"-dependencyStart)");break;case"lollipop":x.attr("marker-start","url("+k+"#"+e+"-lollipopStart)")}switch(r.arrowTypeEnd){case"arrow_cross":x.attr("marker-end","url("+k+"#"+e+"-crossEnd)");break;case"arrow_point":x.attr("marker-end","url("+k+"#"+e+"-pointEnd)");break;case"arrow_barb":x.attr("marker-end","url("+k+"#"+e+"-barbEnd)");break;case"arrow_circle":x.attr("marker-end","url("+k+"#"+e+"-circleEnd)");break;case"aggregation":x.attr("marker-end","url("+k+"#"+e+"-aggregationEnd)");break;case"extension":x.attr("marker-end","url("+k+"#"+e+"-extensionEnd)");break;case"composition":x.attr("marker-end","url("+k+"#"+e+"-compositionEnd)");break;case"dependency":x.attr("marker-end","url("+k+"#"+e+"-dependencyEnd)");break;case"lollipop":x.attr("marker-end","url("+k+"#"+e+"-lollipopEnd)")}let B={};return l&&(B.updatedPath=i),B.originalPath=r.points,B}},5299:(Lt,ct,W)=>{W.d(ct,{p:()=>st,s:()=>xt});var d=W(5703),C=W(9111),I=W(855);let tt=0;const st=function(g){let E=g.match(/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/),S=g.match(/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/);return E&&!S?ft(E):S?yt(S):ut(g)},ft=function(g){let f="",h="";try{let E=g[1]?g[1].trim():"",S=g[2]?g[2].trim():"",_=g[3]?(0,I.p)(g[3].trim()):"",L=g[4]?g[4].trim():"",v=g[5]?g[5].trim():"";h=E+S+_+" "+L,f=it(v)}catch{h=g}return{displayText:h,cssStyle:f}},yt=function(g){let f="",h="";try{let E=g[1]?g[1].trim():"",S=g[2]?g[2].trim():"",_=g[3]?(0,I.p)(g[3].trim()):"",L=g[4]?g[4].trim():"";h=E+S+"("+_+")"+(g[5]?" : "+(0,I.p)(g[5]).trim():""),f=it(L)}catch{h=g}return{displayText:h,cssStyle:f}},ut=function(g){let f="",h="",E="",S=g.indexOf("("),_=g.indexOf(")");if(S>1&&_>S&&_<=g.length){let L="",v="",b=g.substring(0,1);b.match(/\w/)?v=g.substring(0,S).trim():(b.match(/[#+~-]/)&&(L=b),v=g.substring(1,S).trim());const M=g.substring(S+1,_);g.substring(_+1,1),h=it(g.substring(_+1,_+2)),f=L+v+"("+(0,I.p)(M.trim())+")",_<g.length&&(E=g.substring(_+2).trim(),""!==E&&(E=" : "+(0,I.p)(E),f+=E))}else f=(0,I.p)(g);return{displayText:f,cssStyle:h}},ht=function(g,f,h,E){let S=st(f);const _=g.append("tspan").attr("x",E.padding).text(S.displayText);""!==S.cssStyle&&_.attr("style",S.cssStyle),h||_.attr("dy",E.textHeight)},it=function(g){switch(g){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},xt={drawClass:function(g,f,h,E){I.l.debug("Rendering class ",f,h);const S=f.id,_={id:S,label:f.id,width:0,height:0},L=g.append("g").attr("id",E.db.lookUpDomId(S)).attr("class","classGroup");let v;v=f.link?L.append("svg:a").attr("xlink:href",f.link).attr("target",f.linkTarget).append("text").attr("y",h.textHeight+h.padding).attr("x",0):L.append("text").attr("y",h.textHeight+h.padding).attr("x",0);let b=!0;f.annotations.forEach(function(U){const dt=v.append("tspan").text("\xab"+U+"\xbb");b||dt.attr("dy",h.textHeight),b=!1});let M=f.id;void 0!==f.type&&""!==f.type&&(M+="<"+f.type+">");const G=v.append("tspan").text(M).attr("class","title");b||G.attr("dy",h.textHeight);const N=v.node().getBBox().height,Y=L.append("line").attr("x1",0).attr("y1",h.padding+N+h.dividerMargin/2).attr("y2",h.padding+N+h.dividerMargin/2),F=L.append("text").attr("x",h.padding).attr("y",N+h.dividerMargin+h.textHeight).attr("fill","white").attr("class","classText");b=!0,f.members.forEach(function(U){ht(F,U,b,h),b=!1});const D=F.node().getBBox(),V=L.append("line").attr("x1",0).attr("y1",h.padding+N+h.dividerMargin+D.height).attr("y2",h.padding+N+h.dividerMargin+D.height),rt=L.append("text").attr("x",h.padding).attr("y",N+2*h.dividerMargin+D.height+h.textHeight).attr("fill","white").attr("class","classText");b=!0,f.methods.forEach(function(U){ht(rt,U,b,h),b=!1});const X=L.node().getBBox();var w=" ";f.cssClasses.length>0&&(w+=f.cssClasses.join(" "));const j=L.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",X.width+2*h.padding).attr("height",X.height+h.padding+.5*h.dividerMargin).attr("class",w).node().getBBox().width;return v.node().childNodes.forEach(function(U){U.setAttribute("x",(j-U.getBBox().width)/2)}),f.tooltip&&v.insert("title").text(f.tooltip),Y.attr("x2",j),V.attr("x2",j),_.width=j,_.height=X.height+h.padding+.5*h.dividerMargin,_},drawEdge:function(g,f,h,E,S){const _=function(w){switch(w){case S.db.relationType.AGGREGATION:return"aggregation";case S.db.relationType.EXTENSION:return"extension";case S.db.relationType.COMPOSITION:return"composition";case S.db.relationType.DEPENDENCY:return"dependency";case S.db.relationType.LOLLIPOP:return"lollipop"}};f.points=f.points.filter(w=>!Number.isNaN(w.y));const L=f.points,v=(0,d.jvg)().x(function(w){return w.x}).y(function(w){return w.y}).curve(d.$0Z),b=g.append("path").attr("d",v(L)).attr("id","edge"+tt).attr("class","relation");let G,N,M="";E.arrowMarkerAbsolute&&(M=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,M=M.replace(/\(/g,"\\("),M=M.replace(/\)/g,"\\)")),1==h.relation.lineType&&b.attr("class","relation dashed-line"),10==h.relation.lineType&&b.attr("class","relation dotted-line"),"none"!==h.relation.type1&&b.attr("marker-start","url("+M+"#"+_(h.relation.type1)+"Start)"),"none"!==h.relation.type2&&b.attr("marker-end","url("+M+"#"+_(h.relation.type2)+"End)");const Y=f.points.length;let D,V,rt,X,F=C.u.calcLabelPosition(f.points);if(G=F.x,N=F.y,Y%2!=0&&Y>1){let w=C.u.calcCardinalityPosition("none"!==h.relation.type1,f.points,f.points[0]),K=C.u.calcCardinalityPosition("none"!==h.relation.type2,f.points,f.points[Y-1]);I.l.debug("cardinality_1_point "+JSON.stringify(w)),I.l.debug("cardinality_2_point "+JSON.stringify(K)),D=w.x,V=w.y,rt=K.x,X=K.y}if(void 0!==h.title){const w=g.append("g").attr("class","classLabel"),K=w.append("text").attr("class","label").attr("x",G).attr("y",N).attr("fill","red").attr("text-anchor","middle").text(h.title);window.label=K;const j=K.node().getBBox();w.insert("rect",":first-child").attr("class","box").attr("x",j.x-E.padding/2).attr("y",j.y-E.padding/2).attr("width",j.width+E.padding).attr("height",j.height+E.padding)}I.l.info("Rendering relation "+JSON.stringify(h)),void 0!==h.relationTitle1&&"none"!==h.relationTitle1&&g.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",D).attr("y",V).attr("fill","black").attr("font-size","6").text(h.relationTitle1),void 0!==h.relationTitle2&&"none"!==h.relationTitle2&&g.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",rt).attr("y",X).attr("fill","black").attr("font-size","6").text(h.relationTitle2),tt++},drawNote:function(g,f,h,E){I.l.debug("Rendering note ",f,h);const S=f.id,_={id:S,text:f.text,width:0,height:0},L=g.append("g").attr("id",S).attr("class","classGroup");let v=L.append("text").attr("y",h.textHeight+h.padding).attr("x",0);const b=JSON.parse(`"${f.text}"`).split("\n");b.forEach(function(Y){I.l.debug(`Adding line: ${Y}`),v.append("tspan").text(Y).attr("class","title").attr("dy",h.textHeight)});const M=L.node().getBBox(),N=L.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",M.width+2*h.padding).attr("height",M.height+b.length*h.textHeight+h.padding+.5*h.dividerMargin).node().getBBox().width;return v.node().childNodes.forEach(function(Y){Y.setAttribute("x",(N-Y.getBBox().width)/2)}),_.width=N,_.height=M.height+b.length*h.textHeight+h.padding+.5*h.dividerMargin,_},parseMember:st}}}]);